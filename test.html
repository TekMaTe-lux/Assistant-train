<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<title>Horaires en tableau</title>
<style>
  table {
    border-collapse: collapse;
    width: 100%;
    max-width: 600px;
  }
  th, td {
    border: 1px solid #ddd;
    padding: 6px 10px;
    text-align: left;
    vertical-align: middle;
  }
  th {
    background-color: #f2f8ff;
    color: #003b7a;
  }
  .deleted {
    color: red;
    text-decoration: line-through;
  }
  .delayed {
    color: darkorange;
    font-weight: bold;
  }
  .info {
    color: blue;
    font-weight: bold;
  }
  .arrow {
    margin: 0 4px;
    color: black;
  }
</style>
</head>
<body>

<h3>Horaires de départ du train 18103 :</h3>

<table>
  <thead>
    <tr>
      <th>Gare</th>
      <th>Horaire prévu</th>
      <th>Horaire retardé</th>
    </tr>
  </thead>
  <tbody id="scheduleBody">
  </tbody>
</table>

<script>
  const stops = [
    { gare: "Besançon-Viotte", scheduled: "04:52", real: null, deleted: false },
    { gare: "Besançon - Mouillère", scheduled: "04:57", real: "05:17", deleted: false, delayMinutes: 20 },
    { gare: "Morre", scheduled: "05:04", real: "05:49", deleted: false, delayMinutes: 45 },
    { gare: "Saône", scheduled: "05:09", real: "05:54", deleted: false, delayMinutes: 45 },
    { gare: "Mamirolle", scheduled: "05:15", real: "06:00", deleted: false, delayMinutes: 45 },
    { gare: "L'Hôpital-du-Grosbois", scheduled: "05:23", real: "06:08", deleted: false, delayMinutes: 45 },
    { gare: "Étalans", scheduled: "05:28", real: "06:13", deleted: false, delayMinutes: 45 },
    { gare: "Le Valdahon - Camp Militaire", scheduled: "05:32", real: "06:17", deleted: false, delayMinutes: 45 },
    { gare: "Le Valdahon", scheduled: "05:43", real: "06:28", deleted: false, delayMinutes: 45 },
    { gare: "Avoudrey", scheduled: "05:51", real: "06:36", deleted: false, delayMinutes: 45 },
    { gare: "Gilley", scheduled: "06:04", real: "06:49", deleted: false, delayMinutes: 45 },
    { gare: "Morteau", scheduled: "07:00", real: null, deleted: false, info: "(Nouveau terminus)" },
    { gare: "Le Locle Col des Roches", scheduled: "06:40", real: null, deleted: true },
    { gare: "Le Locle", scheduled: "06:44", real: null, deleted: true },
    { gare: "Le Crêt du Locle", scheduled: "06:48", real: null, deleted: true },
    { gare: "La Chaux-de-Fonds Les Forges", scheduled: "06:51", real: null, deleted: true },
    { gare: "La Chaux-de-Fonds", scheduled: "06:54", real: null, deleted: true }
  ];

  const tbody = document.getElementById("scheduleBody");

  stops.forEach(stop => {
    const tr = document.createElement("tr");

    // Colonne Gare
    const tdGare = document.createElement("td");
    if (stop.deleted) {
      tdGare.classList.add("deleted");
    }
    tdGare.textContent = stop.gare;
    if (stop.info) {
      const spanInfo = document.createElement("span");
      spanInfo.textContent = " " + stop.info;
      spanInfo.classList.add("info");
      tdGare.appendChild(spanInfo);
    }
    tr.appendChild(tdGare);

    // Colonne Horaire prévu
    const tdScheduled = document.createElement("td");
    if (stop.deleted) {
      tdScheduled.classList.add("deleted");
    }
    tdScheduled.textContent = stop.scheduled;
    tr.appendChild(tdScheduled);

    // Colonne Horaire retardé
    const tdReal = document.createElement("td");
    if (stop.real) {
      tdReal.innerHTML = `<span class="arrow">➔</span> <span class="delayed">${stop.real}</span> <span>(${stop.delayMinutes}min)</span>`;
    } else {
      tdReal.textContent = "";
    }
    tr.appendChild(tdReal);

    tbody.appendChild(tr);
  });
</script>

</body>
</html>
