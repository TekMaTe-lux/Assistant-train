<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arrivées de trains à Luxembourg</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .train-info {
            margin: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 8px;
        }
        .train-info h3 {
            margin-top: 0;
        }
        .train-info p {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <h1>Arrivées de Trains à Luxembourg</h1>
    <div id="trainArrivals"></div>

    <script>
        const trainData = [
            {
                "route": { "name": "C50+" },
                "departure_date_time": "20250507T102300",
                "arrival_date_time": "20250507T102300",
                "physical_modes": [{ "name": "TER / Intercités" }],
                "line": { "name": "C50+" },
                "stop_area": { "name": "Luxembourg (Luxembourg)" }
            },
            {
                "route": { "name": "Paris Est - Luxembourg" },
                "departure_date_time": "20250507T103200",
                "arrival_date_time": "20250507T103200",
                "physical_modes": [{ "name": "Train grande vitesse" }],
                "line": { "name": "Paris Est - Luxembourg" },
                "stop_area": { "name": "Luxembourg (Luxembourg)" }
            },
            {
                "route": { "name": "C50+" },
                "departure_date_time": "20250507T103200",
                "arrival_date_time": "20250507T103200",
                "physical_modes": [{ "name": "TER / Intercités" }],
                "line": { "name": "C50+" },
                "stop_area": { "name": "Luxembourg (Luxembourg)" }
            }
        ];

        // Filtrer les trains TER / Intercités (exclure les TGV)
        const filteredTrains = trainData.filter(train => train.physical_modes.some(mode => mode.name === "TER / Intercités"));

        // Affichage des informations
        const trainArrivalsContainer = document.getElementById('trainArrivals');
        
        filteredTrains.forEach(train => {
            const trainDiv = document.createElement('div');
            trainDiv.classList.add('train-info');

            const routeName = document.createElement('h3');
            routeName.textContent = `Ligne : ${train.route.name}`;

            const departureTime = document.createElement('p');
            departureTime.textContent = `Départ : ${new Date(train.departure_date_time).toLocaleString()}`;

            const arrivalTime = document.createElement('p');
            arrivalTime.textContent = `Arrivée : ${new Date(train.arrival_date_time).toLocaleString()}`;

            trainDiv.appendChild(routeName);
            trainDiv.appendChild(departureTime);
            trainDiv.appendChild(arrivalTime);

            trainArrivalsContainer.appendChild(trainDiv);
        });
    </script>
</body>
</html>
