<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Arriv√©es √† Luxembourg</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      padding: 20px;
      background-color: #f9f9f9;
      color: #333;
      max-width: 900px;
      margin: auto;
    }
    h1 {
      text-align: center;
      color: #004080;
      font-size: 2.5em;
    }
    .legend {
      text-align: center;
      margin: 20px 0;
    }
    .legend span {
      display: inline-block;
      margin: 0 10px;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 5px;
    }
    .ontime { color: green; background-color: #e0f7e0; }
    .retarde { color: orange; background-color: #fff4e0; }
    .supprime { color: red; background-color: #fbeaea; }

    #resultat ul {
      padding: 0;
    }
    #resultat li {
      background: #fff;
      border-left: 6px solid #ccc;
      margin-bottom: 10px;
      padding: 10px 15px;
      border-radius: 4px;
      list-style: none;
    }
    #resultat li.ontime { border-left-color: green; }
    #resultat li.retarde { border-left-color: orange; }
    #resultat li.supprime { border-left-color: red; }

    #trainImage {
      display: block;
      max-width: 100%;
      margin: 20px auto 10px auto;
      border-radius: 10px;
    }

    .humour {
      font-size: 0.85em;
      font-style: italic;
      text-align: center;
      margin-bottom: 30px;
      color: #555;
    }

    .humour a {
      color: #004080;
      text-decoration: none;
      font-weight: bold;
    }

    .humour a:hover {
      text-decoration: underline;
    }

    .video {
      margin-top: 40px;
      text-align: center;
    }

    .video iframe {
      width: 100%;
      max-width: 560px;
      height: 315px;
      border-radius: 10px;
      border: none;
    }

    .tweet-container {
      margin: 30px 0;
      text-align: center;
    }

    .chatbox {
      margin-top: 40px;
      background: #fff;
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .chatlog {
      max-height: 300px;
      overflow-y: auto;
      margin-bottom: 10px;
    }
    .chatlog .msg {
      padding: 8px 12px;
      border-radius: 15px;
      margin-bottom: 8px;
      display: inline-block;
      max-width: 80%;
      clear: both;
    }
    .chatlog .user {
      background: #dcf8c6;
      float: right;
    }
    .chatlog .bot {
      background: #f1f0f0;
      float: left;
    }
    .chatinput {
      display: flex;
      gap: 10px;
    }
    .chatinput input {
      flex: 1;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    .chatinput button {
      padding: 10px 20px;
      border: none;
      background: #004080;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Prochaines b√©taill√®res vers Luxembourg</h1>

  <div class="legend">
    <span class="ontime">‚úÖ √Ä l'heure</span>
    <span class="retarde">‚ö†Ô∏è Retard√©</span>
    <span class="supprime">‚ùå Supprim√©</span>
  </div>

  <div id="resultat">Chargement en cours...</div>

  <div class="tweet-container">
    <blockquote class="twitter-tweet" data-theme="light">
      <a href="https://twitter.com/TERNancyMetzLux"></a>
    </blockquote>
  </div>

  <img id="trainImage" src="https://raw.githubusercontent.com/TekMaTe-lux/Assistant-train/refs/heads/main/20250426_224742.jpg" alt="Image du train">

  <div class="humour">
    Le Lundi c'est conditions de d√©parts non r√©unies !<br>
    Le Vendredi c'est panne de PN !<br>
    Suivez l'aventure des B√©taill√®res Express R√©gionales sur
    <a href="https://x.com/BERNancyMetzLux" target="_blank">@BERNancyMetzLux</a> !
  </div>

  <div class="video">
    <h2>Vid√©o bonus</h2>
    <iframe src="https://www.youtube.com/embed/rWFDBMcNTL8" allowfullscreen></iframe>
  </div>

  <div class="chatbox">
    <h2>üí¨ Le Contr√¥leur est en ligne</h2>
    <div class="chatlog" id="chatlog"></div>
    <div class="chatinput">
      <input type="text" id="userInput" placeholder="Pose une question...">
      <button onclick="sendMessage()">Envoyer</button>
    </div>
  </div>

  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
  <script>
    const phrasesBot = [
      "Le PN de Woippy a encore fait des siennes !",
      "Le lundi c‚Äôest conditions de d√©part non r√©unies.",
      "Retard pour cause de vache sur la voie.",
      "C‚Äôest comme √ßa depuis 1983.",
      "Les b√©taill√®res sont en gr√®ve de confort.",
      "On vous promet des TER √† l‚Äôheure... en r√™ve.",
      "La climatisation fonctionne... en hiver seulement !",
      "Ce train circule avec un nombre al√©atoire de wagons.",
      "Retard d√ª √† un bouchon √† Bettembourg.",
      "Le conducteur a pris le train pr√©c√©dent.",
      "Nous attendons un contr√¥leur pour pouvoir partir.",
      "Train supprim√© pour cause de cafeti√®re cass√©e.",
      "L‚Äôappli dit oui, le quai dit non !",
      "On vous conseille un plan B, C et D.",
      "Bonjour √† toi, courageux voyageur des rails !",
      "Merci pour ta patience, c‚Äôest plus que la SNCF n‚Äôen m√©rite.",
      "Tu es sur la bonne voie... enfin sauf si elle est occup√©e !",
      "Une gr√®ve surprise ? Non, une tradition locale.",
      "Un TER √† l'heure ? Tu dois r√™ver. R√©veille-toi vite !",
      "C‚Äôest pas un retard, c‚Äôest un hommage au slow travel.",
      "Encore une journ√©e sans clim en √©t√©. Classique.",
      "Tu as dit 'panne' ? Bingo ! Tu gagnes un retard surprise.",
      "Oui, on t‚Äôentend r√¢ler depuis la cabine conducteur."
    ];

    function sendMessage() {
      const input = document.getElementById("userInput");
      const message = input.value.trim();
      if (!message) return;

      const chatlog = document.getElementById("chatlog");
      const userBubble = document.createElement("div");
      userBubble.className = "msg user";
      userBubble.textContent = message;
      chatlog.appendChild(userBubble);

      input.value = "";
      setTimeout(() => {
        const botBubble = document.createElement("div");
        botBubble.className = "msg bot";

        const lower = message.toLowerCase();
        if (lower.includes("bonjour")) {
          botBubble.textContent = "Salut ! T'as vu le TER du jour ? Non plus ? Normal.";
        } else if (lower.includes("merci")) {
          botBubble.textContent = "De rien, camarade de gal√®re !";
        } else if (lower.includes("retard")) {
          botBubble.textContent = "Encore ? Tu veux la version courte ou la liste compl√®te ?";
        } else {
          const randomMsg = phrasesBot[Math.floor(Math.random() * phrasesBot.length)];
          botBubble.textContent = randomMsg;
        }

        chatlog.appendChild(botBubble);
        chatlog.scrollTop = chatlog.scrollHeight;
      }, 800);
    }
  </script>

  <script>
    // ... Ton script de r√©cup√©ration des arriv√©es SNCF ici ...
  </script>
</body>
</html>
